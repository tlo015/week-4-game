<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
  
    <title>Crystal Collector</title>
</head>

<body>

    <header class=" container jumbotron">
        <h1> Crystals Collector </h1>
    </header>

    <div class="container">
        <div class="row">
            <section class="col-md-6" id="text-body">
                <p>You will be given a random number at the start of game.</p>
                <p> There are four Pokemon below. By clicking the Pokemon you will add their relative level to your total score.</p>
                <p>You win the game by matching your total level to the random number, you lose the game if your level goes above the random number.</p>
                <p>The level of each Pokemon is hidden from you until you click on it.</p>
                <p>Each time the game starts, the game will change the level of each Pokemon. </p>
            </section>

            <sideBar class="col-md-6">
                <div class="row">
                    <div class="randomNum col-md-6">Number to Match: <span id="randomNum"></span></div>
                    <div class="clickTotal col-md-6">Total: <span id="clickTotal"></span></div>
                </div>

                <div class="row"><span id="winOrLose"></span></div>

                <div class="row" id="pokemonImage">
                        <img class="col-md-3 green" src="assets/images/green.png">
                        <img class="col-md-3 red" src="assets/images/red.png">
                        <img class="col-md-3 blue" src="assets/images/blue.png">
                        <img class="col-md-3 yellow" src="assets/images/yellow.png">
                </div>

                <div class="row" id="pointCounter">
                    <div class="col-md-6">Wins: <span id="wins"></span></div>
                    <div class="col-md-6">Losses: <span id ="losses"></span></div>
                </div>


            </sideBar>
    </div>
    </div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    
    //initialise game stats
    //counter to keep track of the clicked numbers #clickTotal
    //generate random number between 19-120, print to html  
    var imgValue = []; 
    var counter = 0;
    var winsCount = 0  
    var lossesCount = 0

    $("#randomNum").text(counter);
    $("#wins").text(winsCount);
    $("#losses").text(lossesCount);

    var random = (Math.floor(Math.random() * 102) +19);
        console.log ("display num: ", random); 
    $("#randomNum").text(random);

    //assign each img with a hidden number between 1-12
    // var greenPkmn = (Math.floor(Math.random() * 12)+1);
    //     console.log ("Green pokemon: ", greenPkmn);
    // var redPkmn = (Math.floor(Math.random() * 12)+1);
    //     console.log ("Red pokemon: ", redPkmn);
    // var bluePkmn = (Math.floor(Math.random() * 12)+1);
    //     console.log ("Blue pokemon: ", bluePkmn);
    // var yellowPkmn = (Math.floor(Math.random() * 12)+1);
    //     console.log ("Yellow pokemon: ", yellowPkmn);
    function randomPkmnNum() {
        for (var i=0; i<4; i++) {
            var num = (Math.floor(Math.random() *11) +1);
            imgValue.push(num);
        }
        console.log (imgValue);
    }
    randomPkmnNum();

    //restart game with new random numbers and hidden numbers
    function youWon(){
        alert ("You Win!!")
        winsCount++;
        $("#wins").text(winsCount);
        reset();
    }

    function youLose(){
        alert ("You Lose!!")
        lossesCount++;
        $("#losses").text(lossesCount);
        reset();
    }
    
    //'click' event listener on images #pokemonImage
    //upon click print value to screen
    //upon additional clicks, add values together
    //if score = random number wins #wins
    //else losses #losses
    $(".green").on("click", function() {
        // level = parseInt(imgValue[0]);
            console.log ("Green click: ", imgValue[0]);
        counter = counter + imgValue[0];
            console.log(counter);
        $("#clickTotal").text(counter);
        if (counter == random){
                youWon();
            } else if (counter > random){
                youLose();
            }
    });
    
    $(".red").on("click", function() {
        // level = parseInt(redPkmn);
            console.log ("Red click: ",imgValue[1]);
        counter = counter + imgValue[1];
            console.log(counter);
        $("#clickTotal").text(counter);  
        if (counter == random){
                youWon();
            } else if (counter > random){
                youLose();
            }
    });  
    
    $(".blue").on("click", function() {
        // level = parseInt(bluePkmn);
            console.log ("Blue click: ",imgValue[2]);
        counter = counter + imgValue[2];
        $("#clickTotal").text(counter);
        if (counter == random){
                youWon();
            } else if (counter > random){
                youLose();
            }
    });    
    
    $(".yellow").on("click", function() {
        // level = parseInt(yellowPkmn);
            console.log ("Yellow click: ",imgValue[3]);
        counter = counter + imgValue[3];
        $("#clickTotal").text(counter);
        if (counter == random){
                youWon();
            } else if (counter > random){
                youLose();
            }
    });
    
    //reset
        function reset() {
            random = (Math.floor(Math.random() * 102) +19);
                $("#randomNum").text(random);
            imgValue= [];
            randomPkmnNum();
            counter = 0;
            $("#clickTotal").text(counter);
            $("#winOrLose").text("");
        }


</script>

</body>
</html>